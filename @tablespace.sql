select b.tablespace_name name, b.tablespace_name dummy, sum(nvl(b.bytes,0))/count( distinct a.file_id||'.'||a.block_id )/1024/1024 bytes, sum(nvl(b.bytes,0))/count( distinct a.file_id||'.'||a.block_id )/1024/1024 - sum(nvl(a.bytes,0))/count( distinct b.file_id )/1024/1024 used, sum(nvl(a.bytes,0))/count( distinct b.file_id )/1024/1024 free, 100 * ( (sum(nvl(b.bytes,0))/count( distinct a.file_id||'.'||a.block_id )) - (sum(nvl(a.bytes, 0))/count( distinct b.file_id ) )) / (sum(nvl(b.bytes,0))/count( distinct a.file_id||'.'||a.block_id )) pct_used from sys.dba_free_space a, sys.dba_data_files b where b.tablespace_name = a.tablespace_name and a.tablespace_name like '&Tablespace' group by b.tablespace_name order by b.tablespace_name;